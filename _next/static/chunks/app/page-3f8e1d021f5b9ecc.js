(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6444:function(e,t,a){Promise.resolve().then(a.bind(a,2570))},2570:function(e,t,a){"use strict";a.d(t,{default:function(){return m}});var n=a(7437),r=a(2265),o=a(5677);a(3293),a(7138),a(6466),a(1656);var s=e=>{let{darkMode:t,setDarkMode:a}=e},i=a(357);let c=e=>{let t=i.env.NEXT_PUBLIC_BASE_PATH||"";return"".concat(t).concat(e)};var l=a(8355),d=a.n(l);function u(){let e=(0,r.useRef)(null),[t,a]=(0,r.useState)([]),[o,s]=(0,r.useState)(""),[i,l]=(0,r.useState)(!1),[u,m]=(0,r.useState)({});(0,r.useEffect)(()=>{s(document.body.classList.contains("dark-mode")?"dark-mode":""),(async()=>{let e;{let t=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vS_YYdPSeEUznhdpsonMOsvZQ2Lq3R2SuJKSbvDwJ9vwvv5V4RMZEwKISWhWTpy_kokJy-DTWa5cJVF/pub?output=csv");e=await t.text()}d().parse(e,{header:!0,complete:e=>{a(e.data),l(!0)}})})()},[]);let h={Demographics:["White","Latino"],"Extreme Heat":["High Impact Latino","High Impact White"],"Exposure to Pollution Burden":["High Impact Latino","High Impact White"]},f=(e,a)=>t.filter(t=>t.type===e&&t.category===a).reduce((e,t)=>e+parseFloat(t.count),0);Object.keys(h).map(e=>{var a,n;let r=h[e].map(t=>{let a=f(e,t);return{label:t,totalValue:a}}),o=r.find(e=>e.label.includes("Latino")).totalValue,s=r.find(e=>e.label.includes("White")).totalValue,i=o-s,c=(i/s*100).toFixed(2),l=c.endsWith(".00")?parseInt(c):c,d=(null===(a=t.find(t=>t.type===e))||void 0===a?void 0:a.headerIntro)||"",u=(null===(n=t.find(t=>t.type===e))||void 0===n?void 0:n.headerIndicator)||"";return{category:e,subcategories:r,discrepancy:i,formattedDiscrepancyPercentage:l,latinoValue:o,whiteValue:s,headerIntro:d,headerIndicator:u}}),(0,r.useEffect)(()=>{let e=document.querySelectorAll(".ticker"),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){let a=e.target,n=parseFloat(a.getAttribute("data-count")),r=0,o=performance.now(),s=e=>{let t=Math.min((e-o)/2e3,1);if(r=n*t,a.innerText=n%1==0?Math.ceil(r).toLocaleString():r.toFixed(2),t<1)requestAnimationFrame(s);else{a.innerText=n%1==0?n.toLocaleString():r.toFixed(2);let e=a.nextElementSibling;e&&(e.style.display="inline")}};requestAnimationFrame(s),t.unobserve(a)}})},{threshold:.1});return e.forEach(e=>t.observe(e)),()=>{t.disconnect()}},[t]),(0,r.useEffect)(()=>{i&&document.querySelectorAll(".ticker, .discrepancy, .comparison").forEach(e=>{e.classList.add("fade-in")})},[i]),(0,r.useEffect)(()=>{if(i){let e={};document.querySelectorAll(".box").forEach((t,a)=>{e[a]=t.offsetHeight}),m(e)}},[i]);let p=c("/images/lppi-bg.svg");return(0,n.jsxs)("div",{ref:e,className:"fancy-box relative bg-cover bg-center ".concat(o),style:{backgroundImage:"url(".concat(p,")")},children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-primary opacity-95 dark:opacity-95"})," ",(0,n.jsx)("div",{className:"container mx-auto py-4 relative z-10",children:(0,n.jsxs)("h2",{className:"headline headline--medium t-center",children:["Latino Climate and Health ",(0,n.jsx)("strong",{children:"Dashboard "}),(0,n.jsx)("br",{}),"Coming soon."]})})]})}function m(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=c("/data/summaryData.csv");(0,o.gy)(e).then(e=>{t(e.map(e=>({...e,count:parseFloat(e.count),year:parseInt(e.year,10)})))}).catch(e=>console.error("Error fetching data:",e))},[]),(0,r.useEffect)(()=>{a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[a]),(0,n.jsxs)("div",{className:a?"dark":"",children:[(0,n.jsx)(s,{darkMode:a,setDarkMode:i}),(0,n.jsx)("div",{id:"overview",className:"relative z-10",children:(0,n.jsx)(u,{data:e,darkMode:a})}),(0,n.jsx)("footer",{className:"p-4 bg-white-800 text-center",children:(0,n.jsx)("a",{href:"https://latino.ucla.edu/",target:"_blank",rel:"noopener noreferrer",className:"inline-block transform hover:scale-105 transition-transform duration-200",children:(0,n.jsx)("img",{src:"/images/Bxd_Blk_LatinoPolicy_Luskin_A.png",alt:"Latino Policy Logo",className:"h-12 w-auto mx-auto"})})})]})}a(3518),a(1930)},1930:function(){},6466:function(e){e.exports={header:"Header_header__ceAaR",nav:"Header_nav__vEp9l",navList:"Header_navList__utuGl",navItem:"Header_navItem__jn84q",darkModeToggle:"Header_darkModeToggle__Z4txR"}}},function(e){e.O(0,[734,349,606,402,79,971,23,744],function(){return e(e.s=6444)}),_N_E=e.O()}]);